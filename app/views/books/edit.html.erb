<div class='main'> 
  <div class='hoge'>
  </div>
  <div class="book-info-form">
    <h1 class="h1">本情報の編集</h1>
    <div class="edit-book-title">
      <%= @book.title %>
    </div>
    <div class="edit-isbn">
      （ ISBN：<%= @book.isbn %> ）
    </div>
    <%= form_with model: @book, url: book_path, local: true do |f| %>
      <%= render 'shared/error_messages', model: f.object %>
      <div class="form-field">
        <div id="thumbnail"></div>
        <div class="book-image-field">
          <%= f.hidden_field :cover, id:"book-image" %>
        </div>
      </div>
      <div class="book-cover-field">
        <% if @book.cover != "" %>
          <div class='item-img-content'>
            <%= image_tag @book.cover, class: 'book_cover' %>
          </div> 
        <% else %>
          <% if @book.image.attached? %>
            <%= image_tag @book.image.variant(resize: '200x286') %><br>
            <label class="add-image"><b>イメージ</b> (画像を変更する事も可能です)</label>
            <%= f.file_field :image %>
          <% else %>
            <%= image_tag "No image.png", size:'200x286' %><br>
            <label class="add-image"><b>イメージ</b> (可能でしたら登録して下さい)</label>
            <%= f.file_field :image %>
          <% end %>
        <% end %>
      </div>
      <div class="form-field">
        <label>タイトル (必須)</label>
        <%= f.text_field :title, id:"title", class:"title-form book-info" %>
      </div>
      <div class="form-field">
        <label>出版社 (必須)</label>
        <%= f.text_field :publisher, id:"publisher", class:"publisher-form book-info" %>
      </div>
      <div class="form-field">
        <label>著者 (必須)</label>
        <%= f.text_field :author, id:"author", class:"author-form book-info" %>
      </div>
      <div class="form-field">
        <label hidden>発売日 </label>
        <%= f.hidden_field :publication_date, id:"pubdate", class:"pubdate-form book-info"%>
      </div>
      <div class="form-field">
        <label>ジャンル </label><br>
        <p class="complement">※自動入力されなかった際は選択して下さい。(情報が無くとも登録は可能です)</p>
        <div class="c_code-complement">販売対象：
          <%= f.collection_select(:ccode_firstdigit_id, CcodeFirstdigit.all, :id, :name, {prompt: '---'}, {class:"category-firstselect book-info", id:"c_code_first"}) %>
        </div>
        <div class="c_code-complement">書籍形態：
          <%= f.collection_select(:ccode_seconddigit_id, CcodeSeconddigit.all, :id, :name, {prompt: '---'}, {class:"category-secondselect book-info", id:"c_code_second"}) %>
        </div>
        <div class="c_code-complement">　　内容：
          <%= f.collection_select(:ccode_thirddigit_id, CcodeThirddigit.all, :id, :name, {prompt: '---'}, {class:"category-thirdselect book-info", id:"c_code_third"}) %>
        </div>
      </div>
      <div class="form-field">
        <label>内容 </label>
        <%= f.text_area :description, id:"description", class:"description-form book-info" %>
      </div>
      <div class="form-field">
        <label hidden>説明 </label>
        <%= f.hidden_field :keyword, id:"keyword", class:"keyword-form book-info" %>
      </div>
      <div class="btn">
        <%= f.submit "登録する", class:"send-btn" %>
      </div>
    <% end %>
  </div>